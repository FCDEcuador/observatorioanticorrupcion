function toggle(e){checkboxes=document.getElementsByName("permissions[]");for(var o=0,n=checkboxes.length;o<n;o++)checkboxes[o].checked=e.checked}var FormRoleValidation=function(){var e=function(){var e=$("#roleForm"),o=$(".alert-danger",e),n=$(".alert-success",e);e.validate({errorElement:"div",errorClass:"form-control-feedback",focusInvalid:!0,ignore:"",rules:{name:{required:!0},"permissions[]":{required:!0,minlength:1}},messages:{name:{required:"Por favor ingrese el nombre del rol."},"permissions[]":{required:"Por favor seleccione los permisos para este rol",minlength:jQuery.validator.format("Al menos {0} item(s) debe estar seleccionado")}},invalidHandler:function(e,r){n.hide(),o.show()},errorPlacement:function(e,o){o.is(":checkbox")?e.insertAfter(o.closest(".md-checkbox-list, .md-checkbox-inline, .checkbox-list, .checkbox-inline")):o.is(":radio")?e.insertAfter(o.closest(".md-radio-list, .md-radio-inline, .radio-list,.radio-inline")):e.insertAfter(o)},highlight:function(e){$(e).closest(".form-group").addClass("has-danger"),$(e).closest(".form-control").addClass("form-control-danger")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-danger"),$(e).closest(".form-control").removeClass("form-control-danger")},success:function(e){e.closest(".form-group").removeClass("has-danger"),e.closest(".form-control").removeClass("form-control-danger")},submitHandler:function(e){n.show(),o.hide();var r=Ladda.create(document.querySelector("#roleBtn"));r.start(),r.setProgress(-1),$.ajax({type:$(e).attr("method"),url:$(e).attr("action"),data:$(e).serialize(),dataType:"json",beforeSend:function(){r.start()},success:function(e){!0===e.status?renderSection(urlRolesList):swal({title:"BlaudCMS :: Roles",text:e.message,type:"error",allowOutsideClick:!0,showConfirmButton:!0,showCancelButton:!1,confirmButtonClass:"text-danger",cancelButtonClass:"",closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",cancelButtonText:""}),r.stop()},error:function(e){var o="",n="",e=e.responseJSON;$.each(e.errors,function(e,o){n+="\n"+o}),o=""!=n?"Ups! no se pudo actualizar la informacion debido a los siguientes errores: "+n:"Ups! parece que de momento el sistema no estÃ¡ disponible, por favor intentalo nuevamente en unos minutos.",swal({title:"BlaudCMS :: Roles",text:o,type:"error",allowOutsideClick:!0,showConfirmButton:!0,showCancelButton:!1,confirmButtonClass:"text-danger",cancelButtonClass:"",closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",cancelButtonText:""}),r.stop()}})}})};return{init:function(){e()}}}();$(document).ready(function(){FormRoleValidation.init()});
