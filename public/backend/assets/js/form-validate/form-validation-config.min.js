$(document).ready(function(){FormConfigValidation.init(),$("#backend_logo").dropify({messages:{default:"Arrastre un archivo hasta este lugar o de un clic para seleccionar uno",replace:"Arrastre un archivo hasta este lugar o de un clic para seleccionar uno",remove:"Quitar",error:"Ups! parece que algo no esta bien"},error:{fileSize:"El archivo es demasiado grande. ({{ value }} maximo).",minWidth:"La imagen es muy pequeña. ({{ value }}}px minimo).",maxWidth:"El ancho de la imagen es muy grande. ({{ value }}}px maximo).",minHeight:"El alto de la imagen es muy pequeño. ({{ value }}}px minimo).",maxHeight:"El alto de la imagen es muy grande. ({{ value }}px maximo).",imageFormat:"Este formato no esta permitido. ({{ value }} unicamente)."}}),$("#frontend_logo").dropify({messages:{default:"Arrastre un archivo hasta este lugar o de un clic para seleccionar uno",replace:"Arrastre un archivo hasta este lugar o de un clic para seleccionar uno",remove:"Quitar",error:"Ups! parece que algo no esta bien"},error:{fileSize:"El archivo es demasiado grande. ({{ value }} maximo).",minWidth:"La imagen es muy pequeña. ({{ value }}}px minimo).",maxWidth:"El ancho de la imagen es muy grande. ({{ value }}}px maximo).",minHeight:"El alto de la imagen es muy pequeño. ({{ value }}}px minimo).",maxHeight:"El alto de la imagen es muy grande. ({{ value }}px maximo).",imageFormat:"Este formato no esta permitido. ({{ value }} unicamente)."}})});var FormConfigValidation=function(){var e=function(){var e=$("#configForm"),a=$(".alert-danger",e),o=$(".alert-success",e);e.validate({errorElement:"div",errorClass:"form-control-feedback",focusInvalid:!0,ignore:"",rules:{facebook_account:{url:!0},twitter_account:{url:!0},instagram_account:{url:!0},googleplus_account:{url:!0},pinterest_account:{url:!0},linkedin_account:{url:!0},youtube_account:{url:!0},vimeo_account:{url:!0},admin_email:{email:!0},backend_logo:{accept:"image/*"},frontend_logo:{accept:"image/*"}},messages:{facebook_account:{url:"Por favor ingrese una direccion de Facebook valida. (Recuerde agregar http:// o https:// al inicio de la URL)"},twitter_account:{url:"Por favor ingrese una direccion de Twitter valida. (Recuerde agregar http:// o https:// al inicio de la URL)"},instagram_account:{url:"Por favor ingrese una direccion de Instagram valida. (Recuerde agregar http:// o https:// al inicio de la URL)"},googleplus_account:{url:"Por favor ingrese una direccion de Google+ valida. (Recuerde agregar http:// o https:// al inicio de la URL)"},pinterest_account:{url:"Por favor ingrese una direccion de Pinterest valida. (Recuerde agregar http:// o https:// al inicio de la URL)"},linkedin_account:{url:"Por favor ingrese una direccion de Linkedin valida. (Recuerde agregar http:// o https:// al inicio de la URL)"},youtube_account:{url:"Por favor ingrese una direccion de Youtube valida. (Recuerde agregar http:// o https:// al inicio de la URL)"},vimeo_account:{url:"Por favor ingrese una direccion de Vimeo valida. (Recuerde agregar http:// o https:// al inicio de la URL)"},admin_email:{email:"Por favor ingrese una cuenta de email válida."},backend_logo:{accept:"Unicamente se aceptan archivos de imagenes (JPG, PNG, GIF)"},frontend_logo:{accept:"Unicamente se aceptan archivos de imagenes (JPG, PNG, GIF)"}},invalidHandler:function(e,n){o.hide(),a.show()},errorPlacement:function(e,a){a.is(":checkbox")?e.insertAfter(a.closest(".md-checkbox-list, .md-checkbox-inline, .checkbox-list, .checkbox-inline")):a.is(":radio")?e.insertAfter(a.closest(".md-radio-list, .md-radio-inline, .radio-list,.radio-inline")):e.insertAfter(a)},highlight:function(e){$(e).closest(".form-group").addClass("has-danger"),$(e).closest(".form-control").addClass("form-control-danger")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-danger"),$(e).closest(".form-control").removeClass("form-control-danger")},success:function(e){e.closest(".form-group").removeClass("has-danger"),e.closest(".form-control").removeClass("form-control-danger")},submitHandler:function(e){o.show(),a.hide();var n=Ladda.create(document.querySelector("#configBtn"));n.start(),n.setProgress(-1);var t=new FormData;$("#backend_logo")[0].files[0]&&t.append("backend_logo",$("#backend_logo")[0].files[0]),$("#frontend_logo")[0].files[0]&&t.append("frontend_logo",$("#frontend_logo")[0].files[0]);var r=$(e).serializeArray();$.each(r,function(e,a){t.append(a.name,a.value)}),$.ajax({type:$(e).attr("method"),url:$(e).attr("action"),data:t,cache:!1,contentType:!1,processData:!1,beforeSend:function(){n.start()},success:function(a){!0===a.status?(renderSection($(e).attr("action")),swal({title:"BlaudCMS :: Configuration",text:a.message,type:"success",allowOutsideClick:!0,showConfirmButton:!0,showCancelButton:!1,confirmButtonClass:"text-success",cancelButtonClass:"",closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",cancelButtonText:""})):swal({title:"BlaudCMS :: Configuration",text:a.message,type:"error",allowOutsideClick:!0,showConfirmButton:!0,showCancelButton:!1,confirmButtonClass:"text-danger",cancelButtonClass:"",closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",cancelButtonText:""}),n.stop()},error:function(e){var a="",o="",e=e.responseJSON;$.each(e.errors,function(e,a){o+="\n"+a}),a=""!=o?"Ups! no se pudo actualizar la informacion debido a los siguientes errores: "+o:"Ups! parece que de momento el sistema no está disponible, por favor intentalo nuevamente en unos minutos.",swal({title:"BlaudCMS :: Configuration",text:a,type:"error",allowOutsideClick:!0,showConfirmButton:!0,showCancelButton:!1,confirmButtonClass:"text-danger",cancelButtonClass:"",closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",cancelButtonText:""}),n.stop()}})}})};return{init:function(){e()}}}();
